<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil y Menú Vertical</title>


</head>
<body>

<div class="container-padre " >
  <div class=" col2"  >
    <div class="contenido" >
      <div class="simple_container">
        <div class="container cont1" >
          <div style="display: flex; align-items: center; height: 48px;">
            <i class="fa-solid fa-magnifying-glass" style="margin-right: 10px;"></i>
            <span style="color: rgb(195, 195, 197);">Ingresa tu búsqueda aquí...</span>
          </div>
        </div>

        <div class="container cont2" >
          <div style="display: flex; align-items: center; height: 110px;">
            <div style="margin-left: auto; margin-right: 20px;">
              <i class="fa-solid fa-bell" style="color: #963e6c; font-size: 2em;"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="contTitulo" >
        <div class="container-fluid m-3" style="width: 1000px; height: 145px; border: 1px solid #ccc;background-color: #f3f0f2; border-radius: 18px;display: flex; align-items: center; ">
          <h1 style="color: #963e6c; font-size: 4em; margin: 0 0 0 20px;">Permisos y roles</h1>
        </div>
      </div>
      <div class="button-container">
        <button class="btn btn-plan" type="button"(click)="nuevoUsuario()">Nuevo usuario</button>
        <button class="btn btn-plan" type="button"(click)="guardarCambios()">Guardar cambios</button>
      </div>
      <div class="contInfo">
        <div class="container-fluid ">
          <table class="table ">
            <thead>
            <tr>
              <th scope="col">Empleados</th>
              <th scope="col">Usuario</th>
              <th scope="col">Marketing</th>
              <th scope="col">Cuentas</th>
              <th scope="col">Soporte</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor = "let user of usuarios">
              <td>{{user.name}} {{user.lastname}}</td>
              <td>{{user.username}} </td>
              <td>
                <!-- Interruptor personalizado -->
                <label class="switch" >
                  <input type="checkbox" [checked]="user.roles.includes('MARKETING')" (change)="handleCheckboxChange($event,user.username,'MARKETING')">

                  <span class="slider round"></span>
                </label>
              </td>
              <td>
                <!-- Interruptor personalizado -->
                <label class="switch" >
                  <input type="checkbox" [checked]="user.roles.includes('CUENTAS')" (change)="handleCheckboxChange($event,user.username,'CUENTAS')">
                  <span class="slider round"></span>
                </label>
              </td>
              <td>
                <!-- Interruptor personalizado -->
                <label class="switch" >
                  <input type="checkbox" [checked]="user.roles.includes('SOPORTE')" (change)="handleCheckboxChange($event,user.username,'SOPORTE')" >
                  <span class="slider round"></span>
                </label>
              </td>

            </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
    <div class="contPermisos-hijo" >

    </div>
  </div>

</div>

</body>
</html>
